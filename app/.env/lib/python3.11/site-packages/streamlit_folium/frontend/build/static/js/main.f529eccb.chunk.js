(this.webpackJsonpstreamlit_folium=this.webpackJsonpstreamlit_folium||[]).push([[0],{13:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n(3),o=n(7),l=6378137;function r(t){return t*Math.PI/180}function c(t){return 180*t/Math.PI}function d(t,e,n,a){var i=r(t[1]),o=r(t[0]),l=e/n,d=Math.asin(Math.sin(i)*Math.cos(l)+Math.cos(i)*Math.sin(l)*Math.cos(a));return[c(o+Math.atan2(Math.sin(a)*Math.sin(l)*Math.cos(i),Math.cos(l)-Math.sin(i)*Math.sin(d))),c(d)]}function s(t){window.__GLOBAL_DATA__.lat_lng_clicked=t.latlng,_(window.map)}var _=Object(o.a)(u,250);function u(t){var e=window.__GLOBAL_DATA__,n=e.previous_data,o=t.getBounds(),l=t.getZoom(),r={last_clicked:e.lat_lng_clicked,last_object_clicked:e.last_object_clicked,all_drawings:e.all_drawings,last_active_drawing:e.last_active_drawing,bounds:o,zoom:l,last_circle_radius:e.last_circle_radius,last_circle_polygon:e.last_circle_polygon,center:t.getCenter()},c={};c=e.returned_objects?Object.fromEntries(Object.entries(r).filter((function(t){var n=Object(a.a)(t,1)[0];return e.returned_objects.includes(n)}))):r,JSON.stringify(n)!==JSON.stringify(c)&&(e.previous_data=c,i.a.setComponentValue(c))}function w(t){_(window.map)}function p(t){var e=window.__GLOBAL_DATA__,n=t.layerType,a=t.layer;if("circle"===n){var i=[a._latlng.lng,a._latlng.lat],o=a.options.radius,r=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,a=[],i=0;i<n;++i)a.push(d(t,e,l,2*Math.PI*i/n));return a.push(a[0]),{type:"Polygon",coordinates:[a]}}(i,o);e.last_circle_radius=o/1e3,e.last_circle_polygon=r}return m(t)}function m(t){var e=window.__GLOBAL_DATA__;e.last_object_clicked=t.latlng;var n=[];t.layer&&t.layer.toGeoJSON&&(e.last_active_drawing=t.layer.toGeoJSON()),window.drawnItems.toGeoJSON&&(n=window.drawnItems.toGeoJSON().features),e.all_drawings=n,_(window.map)}window.initComponent=function(t){for(var e in t.on("click",s),t.on("moveend",w),t._layers){t._layers[e].on("click",m)}t.on("draw:created",p),t.on("draw:edited",p),t.on("draw:deleted",p),i.a.setFrameHeight(),u(t)},i.a.events.addEventListener(i.a.RENDER_EVENT,(function(t){var e=t.detail,n=e.args.script,a=e.args.height,i=e.args.width,o=e.args.html,l=e.args.returned_objects,r=e.args.default;if(!window.map){var c=document.getElementById("map_div"),d=document.getElementById("map_div2");if(d&&(d.style.height="".concat(a,"px"),d.style.width="".concat(i,"px")),c){if(c.style.height="".concat(a,"px"),c.style.width="".concat(i,"px"),-1!==n.indexOf("document.getElementById('export')")){var s=document.createElement("a");s.href="#",s.id="export",s.innerHTML="Export",document.body.appendChild(s)}var _=document.createElement("script");window.__GLOBAL_DATA__={lat_lng_clicked:null,last_object_clicked:null,all_drawings:null,last_active_drawing:null,zoom:null,last_circle_radius:null,last_circle_polygon:null,returned_objects:l,previous_data:r},_.innerHTML=n+"window.map = map_div; window.initComponent(map_div);",document.body.appendChild(_);var u=document.createElement("div");u.innerHTML=o,document.body.appendChild(u)}}})),i.a.setComponentReady(),i.a.setFrameHeight()}},[[13,1,2]]]);
//# sourceMappingURL=main.f529eccb.chunk.js.map